# Исправление ошибки 400 Bad Request

## Проблема
Ошибка 400 Bad Request на `up11-production.up.railway.app`

## Возможные причины:

1. **ALLOWED_HOSTS не включает ваш домен**
2. **Миграции не выполнены** (база данных не инициализирована)
3. **Проблемы с настройками Django**

## Решение:

### 1. Обновите ALLOWED_HOSTS в Railway:

В Railway → Variables для сервиса up11:

**Вариант A (рекомендуется):**
- Name: `ALLOWED_HOSTS`
- Value: `up11-production.up.railway.app,*.railway.app,*.up.railway.app`

**Вариант B (если не работает):**
- Name: `ALLOWED_HOSTS`
- Value: `*` (разрешает все хосты)

### 2. Убедитесь, что миграции выполняются:

Я обновил Dockerfile, чтобы миграции выполнялись автоматически при запуске.

**Проверьте:**
1. Закоммитьте изменения Dockerfile:
   ```bash
   git add Dockerfile shop_project/shop_project/settings.py
   git commit -m "Fix ALLOWED_HOSTS and add auto-migrations"
   git push
   ```

2. Дождитесь завершения деплоя

3. Проверьте логи, что миграции выполнились

### 3. Проверьте логи Railway:

1. Откройте сервис up11 → Deployments
2. Нажмите "View logs" на активном деплое
3. Проверьте, есть ли ошибки:
   - Ошибки подключения к БД
   - Ошибки миграций
   - Ошибки ALLOWED_HOSTS

### 4. Перезапустите сервис:

1. В Railway откройте сервис up11
2. Нажмите на три точки (⋮) рядом с активным деплоем
3. Выберите "Restart"

## После исправления:

1. Обновите страницу в браузере (F5)
2. Ошибка 400 должна исчезнуть
3. Сайт должен загрузиться корректно

## Если ошибка сохраняется:

Проверьте логи Railway на наличие конкретных ошибок Django - они покажут точную причину проблемы.

